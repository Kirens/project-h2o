window.onload=function(){(function(){var e=document.getElementById("go-top"),t=document.body.scrollTop<300,n="visible";if(e){e=e.classList;if(t)e.remove(n);else e.add(n);document.addEventListener("scroll",function(){var r=document.body.scrollTop<300;if(!(r&&t)&&(r||t)){var i=e.classList;if(e.contains(n))e.remove(n);else e.add(n)}t=r},true)}})();(function(){var e=document.getElementsByClassName("slides")[0];var t=e&&e.children;if(t){var n=function(n){if(!t[n])throw"invalid number";t[t.current].classList.remove("visible");t[n].classList.add("visible");e.style.height=t[n].getBoundingClientRect().height+"px";t.current=n};var r=function(e){if(e){clearInterval(e.timeout);e.classList.add("highlight");e.timeout=setTimeout(function(){e.classList.remove("highlight")},500)}};var i=function(e){try{n(t.current+1)}catch(i){if(i=="invalid number")n(0)}if(!e)clearInterval(o);r(f.right)};var s=function(){try{n(t.current-1)}catch(e){if(e=="invalid number")n(t.length-1)}clearInterval(o);r(f.left)};var o=setInterval(i,7e3,true);var u=false;for(var a=0;a<t.length;a++){if(u)t[a].classList.remove("visible");else u=t[a].classList.contains("visible"),t.current=a}if(!u)t.current=0,setTimeout(function(){n(0);window.slider={moveTo:n,next:i,prev:s}},500);document.body.addEventListener("keyup",function(e){switch(e.keyCode){case 37:s();break;case 39:i();break}},true);var f;if(f=document.getElementById("actions")){f={left:f.getElementsByClassName("left")[0],right:f.getElementsByClassName("right")[0]};f.left.addEventListener("click",function(){s()},true);f.right.addEventListener("click",function(){i()},true)}if(Modernizr.touch)(function(){if(document.getElementById("swipe-hint"))document.getElementById("swipe-hint").classList.add("hint");var t,n,r,o=.8,u=.4,a=3;e.addEventListener("touchstart",function(e){t=e.changedTouches[0].pageX;n=e.changedTouches[0].pageY;r=e.timeStamp},false);e.addEventListener("touchend",function(e){var u=e.changedTouches[0].pageX-t,f=e.changedTouches[0].pageY-n,l=e.timeStamp-r;if(Math.abs(u)/l>o&&Math.abs(u/f)>a){if(u<0)i();else s()}},false)})()}})();if(Modernizr.touch)document.children[0].classList.remove("no-touch")}